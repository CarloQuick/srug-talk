## Section 2: VMs vs. Containers (namespaces and cgroups)

Before starting this project, I assumed two things were the possible outcomes of running
`docker run -it --name busybox-container busybox /bin/sh`

1. There were a bunch of VMs running on my local machine, or
2. Magic

(I could imagine little binary Harry Potters waving a wand and saying "Creatus Busyboxus Continens" and poof, I had busybox up and running)

First, what's a container and how do they compare to Virtual Machines?

**VMs:**

- Hardware/machine virtualization
- Each VM is an isolated operating system
- Hypervisor divvies up host resources (vCPU, vRAM, vNet)
- Stack: Hypervisor → Hardware

**Containers:**

- Isolated processes
- Shared OS kernel, but each container thinks it's independent
- Not a new concept, but usage has become standard
- Stack: Containers → Host OS → Kernel → Hardware

**How does Linux pull this off?**

- **Namespaces** - regulate what a process can see or access
- **Cgroups** - control what resources a process can use (CPU, memory, PIDs, etc.)

**The Office Analogy:**

In the Office, there's an episode where Michael Scott ventures into the wilderness thinking he's surviving alone. What he doesn't know is Dwight is watching the entire time, ready to intervene. Michael thinks he's independent, but Dwight sees everything and controls whether Michael survives or not.

That's container isolation. The container thinks it's its own OS with PID 1 and its own root filesystem. It can't see the host, but the host sees everything and can even shut it down whenever it wants.

---

Containers use namespaces for isolation and cgroups for resource limits. Today we're focusing on namespaces - cgroups is a whole separate talk.

Now let's talk about going rootless.

---
Resources:
What's the difference?: https://www.youtube.com/watch?v=cjXI-yxqGTI