## Section 2: VMs vs. Containers (namespaces and cgroups)

Before I started this project, I had basically two mental models for what happened when I ran a container.

Either Docker was secretly spinning up a bunch of tiny virtual machines…
or it was doing something that felt a little bit like magic.

So let’s clear that up by comparing containers to something more familiar: virtual machines.

**VMs:**
A virtual machine is full machine virtualization. Each VM runs its own operating system. A hypervisor sits underneath and slices up real hardware — CPU, memory, networking — and hands pieces to each VM.

[portion on diagram displayed on a slide]
- Hardware/machine virtualization
- Each VM is an isolated operating system
- Hypervisor divvies up host resources (vCPU, vRAM, vNet)
- Stack: Hypervisor → Hardware

**Containers:**
Containers are very different.
A container is not a machine. It’s just a process — or a group of processes — running on the host kernel.

There’s no second kernel. There’s no guest OS.
But the process is made to believe it’s alone.

[portion on diagram displayed on a slide]
- Isolated processes
- Shared OS kernel, but each container thinks it's independent
- Not a new concept, but usage has become standard
- Stack: Containers → Host OS → Kernel → Hardware

Linux pulls this off using two main features.

**How does Linux pull this off?**

Namespaces control what a process can see.
Cgroups control what a process can use.

Namespaces are what give a process its own view of things like PIDs, hostnames, and filesystems.
Cgroups are what keep it from eating all your CPU and memory.

Today, we’re going to focus entirely on namespaces. Cgroups are important — but that’s a whole other talk.

From the process’s point of view, it looks like it’s PID 1, running on its own machine.
From the host’s point of view, it’s just another process — and it can be inspected, limited, or killed at any time.

That asymmetry is the core idea behind containers.

With that, we can talk about what it means to run containers without root: going rootless.

---
Resources:
What's the difference?: https://www.youtube.com/watch?v=cjXI-yxqGTI
Docker Namespace Vs Cgroup: https://medium.com/@mrdevsecops/namespace-vs-cgroup-60c832c6b8c8